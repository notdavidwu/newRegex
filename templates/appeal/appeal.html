{% load static%}


<!DOCTYPE html>
<html lang="zh-Hant" >
<head>
    <meta name="viewport" maximum-scale=1.0, user-scalable=0 content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">

    <!-- CSS only -->

    <link rel="stylesheet" href="{% static 'css_js/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-select.min.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap.rtl.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap.rtl.min.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-grid.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-grid.min.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-grid.rtl.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-grid.rtl.min.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-reboot.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-reboot.min.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-reboot.rtl.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-reboot.rtl.min.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-utilities.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-utilities.min.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-utilities.rtl.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/bootstrap-5.1.3-dist/css/bootstrap-utilities.rtl.min.css' %}">
    <link rel="stylesheet" href="{% static 'css_js/jquery-ui-1.13.0/jquery-ui.css' %}">

    <!-- JS, Popper.js, and jQuery -->
    <script src="{% static 'css_js/jquery-3.6.0.min.js' %}"></script>
    <script src="{% static 'css_js/popper.min.js' %}"></script>
    <script src="{% static 'css_js/bootstrap.min.js' %}"></script>
    <script src="{% static 'css_js/bootstrap-select.min.js' %}"></script>
    <script src="{% static 'css_js/bootstrap-5.1.3-dist/js/bootstrap.bundle.js' %}"></script>
    <script src="{% static 'css_js/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'css_js/bootstrap-5.1.3-dist/js/bootstrap.js' %}"></script>
    <script src="{% static 'css_js/bootstrap-5.1.3-dist/js/bootstrap.min.js' %}"></script>

    <script src="{% static 'css_js/jquery-ui-1.13.0/jquery-ui.js' %}"></script>

</head>
<style>
    /* CSS Document */
    #sentbutton {
        position: absolute;
        margin-left: 90%;
        margin-top: -7%;
        display: inline-block;
        padding: 15px 25px;
        font-size: 24px;
        cursor: pointer;
        text-align: center;
        text-decoration: none;
        outline: none;
        color: #fff;
        background-color: #7deb81;
        border: none;
        border-radius: 15px;
        box-shadow: 0 9px #999;
        }

        #sentbutton:hover {background-color: #3e8e41}

        #sentbutton:active {
          background-color: #3e8e41;
          box-shadow: 0 5px #666;
          transform: translateY(4px);
        }

    #appealselect{position:absolute;font-family:DFKai-sb;width:17.4%;margin-top: 8.9%;margin-left: 53%;font-size:200%;z-index: 1}
    body {
        font-family: "Lato", sans-serif;
        transition: background-color .5s;
    }

    /*側邊欄選擇器*/
    .sidenav {
        height: 100%;
        width: 0; /*原始寬度爲0*/
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: #111;
        overflow-x: hidden;
        transition: 0.5s;
        padding-top: 60px;
    }

    /*側邊欄選項選擇器*/
    .sidenav a {
        padding: 8px 8px 8px 32px;
        text-decoration: none;
        font-size: 25px;
        color: #818181;
        display: block;
        transition: 0.3s;
    }

    /*側欄標籤和關閉按鈕光標的效果*/
    .sidenav a:hover, .offcanvas a:focus{
        color: black;
    }

    /*側欄和關閉按鈕的位置選擇器*/
    .sidenav .closebtn {
        position: absolute;
        top: 0;
        right: 25px;
        font-size: 36px;
        margin-left: 50px;
    }

    #main {
      transition: margin-left .5s;
      padding: 20px;
    }

    /*當文檔高度小於450px時，改變側欄的padding屬性和字體大小*/
    @media screen and (max-height: 450px) {
      .sidenav {padding-top: 15px;}
      .sidenav a {font-size: 18px;}
    }
</style>
<style>
    body{background:url("{% static 'image/texture.png' %}");}

    .title1{
      position: absolute;
      top:15%;
      left:39%;
      content: '';
      width:340px;
      height: 75px;
      font-size: 55px;
      font-family: cursive;
      border: 5px solid #f00;
    }
</style>
<style>
    body{background-color: #b1dfbb ;height: 100%;width: auto;background-image: url("{% static 'image/tree.jpg' %}");
     background-size:cover ;overflow-x: hidden;}
    .lister{
        display: flex;
        justify-content: center;
    }
    .lister button{
        width:200px;
        height:200px;
        display: flex;
        justify-content: center;
        flex-direction: column;
        text-align: center;
        background-color: #20c997;
        border-radius: 50%;
        font-family: monospace;
        font-size: 30px;
        background-image:linear-gradient(9deg,#B5CAA0,#A8D8B9);
        color: #1d2124;
        font-weight:bold;
        margin-top: 13%;
    }
    .lister button + button{
        margin-left: 100px;
    }
    .image{
        background-repeat: no-repeat;
    }
    #nowtable td{
        border:3px #cccccc solid;
        font-size: 24px;
        font-weight: bold;
    }
    #nowtable{
        position: absolute;
        margin-top: -0.2%;
        margin-left: 20%;
        z-index: 2;
        width: 70%;
        text-align: center;
        background-color: #f2e7c3;
    }
    #appeallist{
        overflow-x: auto;
        margin-top: 2%;
        margin-left: 20%;
        background-color: #20c997;
        width: 70%;
        
                  /*比照nowtable*/
    }
    #appeallist table{
        height: 50%;
        overflow-x: auto;
        width:100%;      
        font-size: 24px;       /*比照nowtable*/
    }
    #appeallist td{
        overflow-x: auto;
    }
    #appeallist td+td{
        border: 3px solid #111;
        text-align: center;
    }
    #visitrecord{
    overflow-x: hidden;
    overflow-y: auto;
    position: absolute;
    width: 90%;
    height:72%;
    }
    
    #visitrecord::-webkit-scrollbar {display:none}
    #visitrecordtable::-webkit-scrollbar {display:none}
    #visitrecordtable{
        background-color: #f2e7c3;
        margin-top: 2.3%;
        margin-left: 22.3%;
        height:90%;
    }
    #visitrecordtable td{/*訪客離開的table設定*/
        overflow-x: hidden;
        font-size: 24px;
        border: 2px solid #111;
        text-align: center;
    }
    .appealt3{width:65px;}      /*    */
    .appealt10{width:200px;}    /*發生時間*/
    .appealt{width:600px;}      /*申訴內容*/
    .appealt1{width:180px;}      /*申訴戶名*/
    .appealt2{width:180px;}      /*申素時間*/
    .appealm{width: 180px;}      /*狀態*/

    .appealt30{width:60px;}      /*ID*/
    .appealt8{width:192px;}    /*發生時間*/
    .appealt4{width:573px;}      /*申訴內容*/
    .appealt5{width:171px;}      /*申訴戶名*/
    .appealt6{width:171px;}      /*申素時間*/
    .appealm1{width:173px;}       /*狀態*/
    
    .bemale{display: none;}
    .bemale+label{
        display: inline-block;
        background-color: #ccc;
        cursor: pointer;
        padding: 5px 10px;
        font-family: DFKai-sb;
    }
    .bemale+label:hover {background-color: tomato;}
</style>
<!--嘟嘟嘟特效(下)-->
<style>
    
    /*嘟嘟嘟*/
    .spinner {
    display: none;
    margin: 100px auto;
    width: 30px;
    height: 30px;
    position: relative;
    }
    .spinner2 {
    display: none;
    margin: 100px auto;
    width: 30px;
    height: 30px;
    position: relative;
    }
    .container1 > div, .container2 > div, .container3 > div {
    width: 9px;
    height: 9px;
    background-color: #333;
    border-radius: 100%;
    position: absolute;
    -webkit-animation: bouncedelay 1.2s infinite ease-in-out;
    animation: bouncedelay 1.2s infinite ease-in-out;
    -webkit-animation-fill-mode: both;
    animation-fill-mode: both;
    }
    .spinner .spinner-container {
    position: absolute;
    width: 100%;
    height: 100%;
    }
    .spinner2 .spinner-container {
    position: absolute;
    width: 100%;
    height: 100%;
    }
    .container2 {
    -webkit-transform: rotateZ(45deg);
    transform: rotateZ(45deg);
    }
    .container3 {
    -webkit-transform: rotateZ(90deg);
    transform: rotateZ(90deg);
    }
    .circle1 { top: 0; left: 0; }
    .circle2 { top: 0; right: 0; }
    .circle3 { right: 0; bottom: 0; }
    .circle4 { left: 0; bottom: 0; }
    .container2 .circle1 {
    -webkit-animation-delay: -1.1s;
    animation-delay: -1.1s;
    }
    .container3 .circle1 {
    -webkit-animation-delay: -1.0s;
    animation-delay: -1.0s;
    }
    .container1 .circle2 {
    -webkit-animation-delay: -0.9s;
    animation-delay: -0.9s;
    }
    .container2 .circle2 {
    -webkit-animation-delay: -0.8s;
    animation-delay: -0.8s;
    }
    .container3 .circle2 {
    -webkit-animation-delay: -0.7s;
    animation-delay: -0.7s;
    }
    .container1 .circle3 {
    -webkit-animation-delay: -0.6s;
    animation-delay: -0.6s;
    }
    .container2 .circle3 {
    -webkit-animation-delay: -0.5s;
    animation-delay: -0.5s;
    }
    .container3 .circle3 {
    -webkit-animation-delay: -0.4s;
    animation-delay: -0.4s;
    }
    .container1 .circle4 {
    -webkit-animation-delay: -0.3s;
    animation-delay: -0.3s;
    }
    .container2 .circle4 {
    -webkit-animation-delay: -0.2s;
    animation-delay: -0.2s;
    }
    .container3 .circle4 {
    -webkit-animation-delay: -0.1s;
    animation-delay: -0.1s;
    }
    @-webkit-keyframes bouncedelay {
    0%, 80%, 100% { -webkit-transform: scale(0.0) }
    40% { -webkit-transform: scale(1.0) }
    }
    @keyframes bouncedelay {
    0%, 80%, 100% {
        transform: scale(0.0);
        -webkit-transform: scale(0.0);
    } 40% {
        transform: scale(1.0);
        -webkit-transform: scale(1.0);
    }
    }
</style>
<!--側拉特效(下)-->
<style>
    #labelmenu {
    width: 30px;
    height: 120px;
    background-color: #d1d1d1;
    color: #686666;
    position: absolute;
    top: 25%; 
    bottom: 0; 
    left: -30px;
    margin: auto;
    line-height: 80px;
    text-align: center;
    border-radius: 10 0px 0px 10;
    box-shadow: 5px 0 5px rgba(23, 23, 54, 0.6);
    vertical-align:middle;
    }
    #sideMenu-active:checked + .sideMenu {
    transform: translateX(-3%);
    }
    .sideMenu {
    top:66px;
    left:75%;
    width: 480px;
    height: 790px;
    background-color: #448fc8;
    border-right: 3px solid #d1d1d1;
    display: flex;
    flex-direction: column; 
    
    padding: 50px 0;
    box-shadow: 5px 0 5px rgba(23, 23, 54, 0.6);
    position: relative;
    transform: translateX(100%);
    transition: 0.5s;}
    #sideMenu-active {
        
    position: absolute;
    opacity: 0;
    z-index: -1;
    }
</style>
<style>
    ::-webkit-scrollbar {
    width: 10px;
    height:15px
    }
    /* Track */
    ::-webkit-scrollbar-track {
    background: rgb(207, 204, 204)/*#f1f1f1*/;
    border-radius: 10px 10px 10px 10px;
    }

    /* Handle */
    ::-webkit-scrollbar-thumb {
    background: rgb(112, 173, 247);
    border-radius: 10px 10px 10px 10px;
    }

    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
    background: #555;
    }
    #finish_table{
    width: 100%;
    border-collapse: collapse;
    vertical-align:middle;
    }

    #finish_table tr{
    max-height: 20px;
    border-bottom: solid 2px white;
    }

    #finish_table tr:last-child{
    border-bottom: none;
    }

    #finish_table th{
    position: relative;
    width: 25%;
    background-color: #b44d4d;
    text-align: center;
    /*padding: 10px 0;*/
    }

    #finish_table th:after{
    display: block;
    content: "";
    width: 0px;
    height: 0px;
    position: absolute;
    top:calc(50% - 10px);
    right:-10px;
    border-left: 10px solid #202421;
    border-top: 10px solid transparent;
    border-bottom: 10px solid transparent;
    }

    #finish_table td{
    text-align: left;
    width: 75%;
    text-align: center;
    background-color: rgb(207, 204, 204);
    /*padding: 10px 0;*/
    }
.quesbutton {
position: absolute;
  display: inline-block;
  padding: 15px 25px;
  font-size: 24px;
  cursor: pointer;
  text-align: center;   
  text-decoration: none;
  outline: none;
  color: #fff;
  background-color: #e1a5ac;
  border: none;
  border-radius: 15px;
  box-shadow: 0 6px #999;
  margin:5px;
  height: 35px;
  width: 100px;
  right:5%
}

.quesbutton:hover {background-color: #ae636c}

.quesbutton:active {
  background-color: #b35661;
  box-shadow: 0 5px #666;
  transform: translateY(4px);
}   

.databasebutton {
    
  position: absolute;
  display: inline-block;
  padding: 15px 25px;
  font-size: 24px;
  cursor: pointer;
  text-align: center;   
  text-decoration: none;
  outline: none;
  color: #fff;
  background-color: #4CAF50;
  border: none;
  border-radius: 15px;
  box-shadow: 0 6px #999;
  margin:5px;
  height: 35px;
    width: 100px;
}

.databasebutton:hover {background-color: #3e8e41}

.databasebutton:active {
  background-color: #3e8e41;
  box-shadow: 0 5px #666;
  transform: translateY(4px);
}
    #Timeline{box-shadow: 0px 0px 10px 5px rgba(0, 0, 0, 0.2);border-radius: 10px;border:0px solid #F05454;top: 66px;left:1%;width: 50%;
    height: calc(100% - 77px);position: absolute;overflow-x:hidden;background:url("/static/image/texture.png");background-color: #FFFFFF;
    overflow-y: auto}
    #Finish{box-shadow: 0px 0px 10px 5px rgba(0, 0, 0, 0.2);border-radius: 10px;border:0px solid #F05454;top: 66px;left:52%;width: 17%;
    height: calc(100% - 77px);position: absolute;overflow-x:hidden;background:url("/static/image/texture.png");background-color: #FFFFFF;
    overflow-y: auto}
    #Schedule{box-shadow: 0px 0px 10px 5px rgba(0, 0, 0, 0.2);border-radius: 10px;border:0px solid #F05454;top: 66px;left:70%;width: 30%;
    height: calc(100% - 77px);position: absolute;overflow-x:hidden;background:url("/static/image/texture.png");background-color: #FFFFFF;
    overflow-y: auto}
    #Google{box-shadow: 0px 0px 10px 5px rgba(0, 0, 0, 0.2);border-radius: 10px;border:0px solid #F05454;top: 6px;left:2%;width: 100%;
    height: calc(100% - 7px);position: absolute;overflow-x:hidden;background:url("/static/image/texture.png");background-color: #FFFFFF;
    overflow-y: auto}

    #validationCustom05{position:absolute;left: 0%;margin:20px;width:calc(60% - 40px);top:0px} 
    #validationCustom04{position:absolute;left: 0%;margin:20px;width:calc(30% - 80px);top:50px} /* 選字的字數*/
    #validationCustom09{position:absolute;left: 0%;margin:20px;width:calc(30% - 80px);top:100px} 
    #validationCustom10{position:absolute;left: 0%;margin-left:30%;width:calc(30% - 80px);top:120px} 
    #validationCustom12{position:absolute;left: 30%;margin-left:30%;width:calc(30% - 80px);top:120px;display:none;} 
    #search{position:absolute;left: 55%;margin-left:30%;width:calc(30% - 80px);top:120px;background-color: #2e7794;color: white;}
    #filter{position:absolute;margin:20px;width:calc(40% - 40px);top:70px;display: none;}   /* 選字的屬性*/
    #tableframe{border:5px solid #7c7a7a;position:absolute;overflow-y:hidden;overflow-x:hidden;border-radius: 10px;top:160px;height:calc(100% - 190px);
    width:calc(100% - 40px);margin:20px;background:url("/static/image/texture.png");background-color:#F4F0ED} /* 顯示字的區塊*/
    #finish_area{border:5px solid #7c7a7a;position:absolute;overflow-y:auto;overflow-x:hidden;border-radius: 10px;top:30px;height:calc(100% - 70px);
    width:calc(100% - 40px);margin:20px;background:url("/static/image/texture.png");background-color:#FFFFFF;vertical-align:middle;}
    #schedule_area{border:5px solid #7c7a7a;position:absolute;overflow-y:auto;overflow-x:hidden;border-radius: 10px;top:30px;height:calc(100% - 70px);
    width:calc(100% - 40px);margin:20px;background:url("/static/image/texture.png");background-color:#FFFFFF;vertical-align:middle;}

    #front_area{overflow-y:auto;overflow-x: hidden;position:absolute;height:calc(92% - 0px);background-color: rgb(207, 204, 204);width:calc(35% - 40px);left: 0%;top :calc(10% - 13px);scrollbar-color: #0063B1 #888;direction: rtl;}
    #back_area{overflow-y:auto;overflow-x: hidden;position:absolute;height:calc(92% - 0px);background-color: rgb(207, 204, 204);width:calc(35% - 32px);right: 0%;top :calc(10% - 13px);scrollbar-color: #0063B1 #888;}
    
    #back_area_Title{position:absolute;height:calc(10% - 9px);color: white;background-color: #8599AF/*rgb(194, 222, 247)*/;width:calc(35% - 32px);right: 0%;top :-1px;}
    #front_area_Title{position:absolute;height:calc(10% - 9px);color: white;background-color: #B1AEC1/*rgb(222, 171, 171)*/;width:calc(35% - 40px);left: 0%;top :-1px;text-align:right;}
    #mid_area{position: absolute;margin-left: calc(35% - 40px);top :-1px;height:calc(100% - 0px);width:calc(39% - 10px);overflow-y: auto;z-index: 1;
    /*border-width:1px;border-style:dashed;border-color:#191716;*/}
    .Tokentd{vertical-align:middle;font-size:larger;border-bottom:2px #080808 solid;}
    #BackWord{overflow-y:auto;overflow-x:hidden;}
    #FrontWord{overflow-y:auto;overflow-x:hidden;}

    input[name='BackInput']{display: none}/*radio  消失*/
    input[name='BackInput'] +label{width: 130%;height: 50px;margin: -12px;left:0px;top:20px}
    input[name='BackInput']:checked ~label{background:url("{% static 'image/texture.png' %}");color:#FFFFFF;background-color: #2E5C6E;padding-left: 2%}
    .BackToken{position: absolute;margin-top:5px;left: 5%;font-size: 25px;}
    .BackSum{position: absolute;margin-top:5px;right: 5%;font-size: 25px;}

    input[name='FrontInput']{display: none}/*radio  消失*/
    input[name='FrontInput'] +label{width: 130%;height: 50px;margin: -12px;left:0px;top:20px}
    input[name='FrontInput']:checked ~label{background:url("{% static 'image/texture.png' %}");color:#FFFFFF;background-color: #2E5C6E;padding-left: 2%}
    .FrontToken{position: absolute;margin-top:5px;right: 5%;font-size: 25px;}
    .FrontSum{position: absolute;margin-top:5px;left: 5%;font-size: 25px;}
    .spinner{position: fixed;top: 45%;left:42%;}
    .spinner2{position: fixed;top: 45%;left:8%;}      
    
    #BackCancelbtn{position: absolute;top: 15%;right: 0%;}
    #FrontCancelbtn{position: absolute;top: 15%;left: 0%;}

    input[name='ScheduleInput']{display: none}/*radio  消失*/
    input[name='ScheduleInput'] +label{width: 130%;height: 50px;margin: -12px;left:0px;top:20px}
    input[name='ScheduleInput']:checked ~label{background:url("{% static 'image/texture.png' %}");color:#FFFFFF;background-color: #2E5C6E;padding-left: 2%}
    .ScheduleToken1{position: absolute;margin-top:5px;margin-left: 0%;font-size: 25px;}
    .ScheduleToken2{position: absolute;margin-top:5px;margin-left: 30%;font-size: 25px;}
    .ScheduleToken3{position: absolute;margin-top:5px;margin-left: 55%;font-size: 25px;}
    .ScheduleSum{position: absolute;margin-top:5px;margin-left: 78%;font-size: 25px;}
    #clickblock{background-color: #FFAC55;position: absolute;margin-left: calc(35% - 40px);width:calc(39% - 2px);height:calc(40% - 25px);z-index: 800;opacity: 0.00001;
    display: none;}
    #worddd{position: absolute;margin-top: -15px;margin-left: -16px;}
</style>
<script type="text/javascript" src="{% static 'css_js/jquery-3.6.0.min.js' %}"></script>
<script type="text/javascript">
/*打開側欄，修改側欄寬度，主體左跨度、背景透明度*/
    function openNav() {
        document.getElementById("mySidenav").style.width = "200px";
        document.getElementById("mySidenav").style.zIndex = "200";
        document.getElementById("main").style.marginLeft = "250px";
        document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
    }
    /*關閉側欄，恢復原始側欄寬度，主體左跨度、背景透明度*/
    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
        document.getElementById("main").style.marginLeft= "0";
        document.body.style.backgroundColor = "white";
    }
    function dealwith(){
        
        var appealID =$('input[name="loooo"]:checked').eq(0).parents('td').parents('tr').children('.appealt30').text()
        
        $.ajax({
            type: 'post',
            url: '{% url "appeal:appealdealwith" %}', // this is the mapping between the url and view
            data:{
                'appealID': appealID,
                'csrfmiddlewaretoken': window.CSRF_TOKEN
            },
            success:function (response) {
                var r1=confirm("事件" + appealID +"將轉為已處理")
            if (r1==true)
                {
                    alert('事件' + appealID + '已處理!')
                    location.reload();
                }   
            else
                {

                }
            }
        })
        
    }
    function appeallist(){
        $.ajax({
            type: 'post',
            url: '{% url "appeal:appeallist" %}', // this is the mapping between the url and view
            data: {
                'csrfmiddlewaretoken': window.CSRF_TOKEN
            },
            success: function (response) {
                
                o=''
                //alert(response.SUM.length)
                $('#appeallist').children('table').remove()
                for (var i = 0; i < response.appealID.length; i++) {
                    //alert(response.Token[i])
                    o=o+'<tr>' +
                        '<td class="appealt30">' + response.appealID[i] + '</td>' +
                        '<td class="appealt8">' + response.appealDate[i] +'<br>'+ response.appealTime[i]+ '</td>' +
                        '<td class="appealt4">' + response.appealText[i] + '</td>' +
                        '<td class="appealt5">' + response.ResidentNo[i] + '</td>' +
                        '<td class="appealt6"><p style="background-color:#fff">' + response.appealcalldate[i] + '</p></td>' +
                        '<td class="appealm" style="display:none">' + response.appealState[i] + '</td>' 
                        if(response.appealState[i]==0){
                            o=o+'<td class="appealm1"><input type="radio"name="loooo" class="bemale" id="bemale'+[i]+'" style="color:black;background-color: indianred;width:50%;font-size:20px;"onclick="dealwith()"><label for="bemale'+[i]+'">待處理... </label></td>'+'</tr>' 
                        }
                        else if(response.appealState[i]==1){
                            o=o+'<td class="appealm1">已處理</td>'+'</tr>'   
                        } 
                }
                o='<table border="1" 自動生成>'+o+'</table>'
                $('#appeallist').append(o)
                $('#visitrecordtable').append(o)
                //$('#info').text(6)
            }
        })
    }

    
    $(document).ready(function (e) {
        SearchWord()
        $('#appealselect').on('change', function () { 
            var text = $(this).val()
            alert(text)
            var text2 = $('#appt-time').val()
            alert(text2)
            var text3 = $('#areal').val()
            alert(text3)
            
        }),
        $('#validationCustom04').on('change',function (){
            c=$(event.target).val();
            if(c=='2') {
                $('#validationCustom12').css('display','none')
            }
            else{
                $('#validationCustom12').css('display','inline')
            }
        })
        $('#validationCustom09').on('change',function (){
            c=$(event.target).val();
            $('#info').text(c)
            //SearchWord()
        })
        $('#validationCustom10').on('change',function (){
            c=$(event.target).val();
            $('#info-2').text(c)
            
        })
        $('#validationCustom12').on('change',function (){
            c=$(event.target).val();
            $('#info-3').text(c)
            //SearchWord()
        })
    })
    $(document).keypress(function(event){ 
        var keynum = (event.keyCode ? event.keyCode : event.which); 

        if(keynum == '13'){ 
            confirm_merge()
        } 
    });
    function SearchWord(){
        $('#Word').children('tr').remove()
        $('#clickblock').css('display','none')
        $('#BackWord').children('tr').remove()
        $('#FrontWord').children('tr').remove()
        //alert($('#validationCustom04').val())
        var Wordnum=$('#validationCustom04').val()
        var Word1 = $('#info').text()
        var Word2 = $('#info-2').text()
        var Word3 = $('#info-3').text()
        $.ajax({
        type: 'get',
        url: '{% url "appeal:SearchWord" %}', // this is the mapping between the url and view
        data: {
            'Wordnum':Wordnum,
            'Word1':Word1,
            'Word2':Word2,
            'Word3':Word3,
            'csrfmiddlewaretoken': window.CSRF_TOKEN
        },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
            success: function (response) {  
                if(Wordnum==2){
                    $('#Word').children('tr').remove()
                    a=`<tr><th class="Tokentd" style="color: white;background-color:#425B76">Token</th></tr>`+
                    `<tr><td class="Tokentd"><p style="font-size:30px" onclick="sym()" id="Targetword">${response.Token5[0]}&nbsp${response.Token6[0]}</p></td></tr>`+
                    `<tr><th class="Tokentd" style="color: white;background-color:#425B76">次數</th></tr>`+
                    `<tr><td class="Tokentd"><p style="font-size:24px" id="Targetnum">${response.Sum[0]}</p></td></tr>`
                    $('#Word').append(a)
                    ArrTest= [response.Token_5[0],response.Token_6[0]];
                    ChangeableArrTest=[ArrTest[0],ArrTest[1]]
                    $('#info-4').text(ArrTest)
                    $('#info-5').text(ChangeableArrTest)
                    GOOGLE()
                }else if(Wordnum==3){
                    $('#Word').children('tr').remove()
                    a=`<tr><th class="Tokentd" style="background-color:">Token</th></tr>`+
                    `<tr><td class="Tokentd"><p style="font-size:24px" onclick="sym()" id="Targetword">${response.Token5[0]}&nbsp${response.Token6[0]}&nbsp${response.Token7[0]}</p></td></tr>`+
                    `<tr><th class="Tokentd">次數</th></tr>`+
                    `<tr><td class="Tokentd"><p id="Targetnum">${response.Sum[0]}</p></td></tr>`
                    $('#Word').append(a)
                    ArrTest= [response.Token_5[0],response.Token_6[0],response.Token_7[0]];
                    ChangeableArrTest=[ArrTest[0],ArrTest[1],ArrTest[2]]
                    $('#info-4').text(ArrTest)
                    $('#info-5').text(ChangeableArrTest)
                    GOOGLE()
                }
            }
            ,failure: function(response) {
                alert('BAD');
            }
        })
        schedule()

    }
    function sym(){
        back_word()
        front_word()
    }
    function back_word(){
        $('#BackWord').children('tr').remove()
        $('.spinner').css('display', 'inline');
        //alert(ArrTest[0])
        $.ajax({
        type: 'get',
        url: '{% url "appeal:back_word" %}', // this is the mapping between the url and view
        traditional:true, 
        data: {
            'ArrTest':ArrTest,
            'csrfmiddlewaretoken': window.CSRF_TOKEN
        },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
            success: function (response) {  
                $('#BackWord').children('tr').remove()
                tempword='';
                //alert('總共:'+response.Sum.length)
                for (var i = 0; i < response.Sum.length; i++) {
                    //alert(response.Token[i])
                    tempword=tempword+'<tr><td><input type="radio" onclick="" name="BackInput" id=back' + i + '>' +
                        '<label class="backlabel" for=back' + i + '>' +
                        '<p  class="BackTokenID" style="display:none">' + response.TokenID[i] + '</p>' +
                        '<p  class="BackToken">' + response.Token[i] + '</p>' +
                        '<p  class="BackSum">' + response.Sum[i] + '</p>' +
                        '</label>' +'</td></tr>'
                }
                //alert(tempword)
                $('#BackWord').append(tempword)
                //alert('Good')
                $('.spinner').css('display', 'none');
            }
            ,failure: function(response) {
                alert('BAD');
            }
        })
    }
    function front_word(){
        $('.spinner2').css('display', 'inline');
        $('#FrontWord').children('tr').remove()
        //alert(ArrTest[0])
        $.ajax({
        type: 'get',
        url: '{% url "appeal:front_word" %}', // this is the mapping between the url and view
        traditional:true, 
        data: {
            'ArrTest':ArrTest,
            'csrfmiddlewaretoken': window.CSRF_TOKEN
        },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
            success: function (response) {  
                tempword='';
                $('#FrontWord').children('tr').remove()
                //alert('總共:'+response.Sum.length)
                for (var i = 0; i < response.Sum.length; i++) {
                    //alert(response.Token[i])
                    tempword=tempword+'<tr><td><input type="radio" onclick="" name="FrontInput" id=front' + i + '>' +
                        '<label class="frontlabel" for=front' + i + '>' +
                        '<p  class="FrontTokenID" style="display:none">' + response.TokenID[i] + '</p>' +
                        '<p  class="FrontSum">' + response.Sum[i] + '</p>' +
                        '<p  class="FrontToken">' + response.Token[i] + '</p>' +
                        '</label>' +'</td></tr>'
                }
                //alert(tempword)
                $('#FrontWord').append(tempword)
                //alert('Good')
                $('.spinner2').css('display', 'none');
            }
            ,failure: function(response) {
                alert('BAD');
            }
        })
    }
    function cancel(way){
        if(way==1){
            $("input[name=BackInput]").prop("checked",false); 
        }
        else if(way==-1){
            $("input[name=FrontInput]").prop("checked",false); 
        }
    }
    function confirm_merge(){
        //alert($('#Targetword').text())
        //alert(ArrTest)
        finishtemp='<tr><th onclick="deleteItem()">delete</th>'+
            '<td>'+$('#Targetword').text()+'</td><td class="finish_word" style="display:none">'+ChangeableArrTest+'</td></tr>'
        $('#finish_table').append(finishtemp)
    }
    function deleteItem(){
        //alert('刪')
        $(event.target).next('td').next('td').remove()
        $(event.target).next('td').remove()
        $(event.target).remove()
    }
    function schedule(){
        var Wordnum=$('#validationCustom04').val()
        var Word1 = $('#info').text()
        var Word2 = $('#info-2').text()
        var Word3 = $('#info-3').text()
        $.ajax({
        type: 'get',
        url: '{% url "appeal:Schedule" %}', // this is the mapping between the url and view
        data: {
            'Wordnum':Wordnum,
            'Word1':Word1,
            'Word2':Word2,
            'Word3':Word3,
            'csrfmiddlewaretoken': window.CSRF_TOKEN
        },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
            success: function (response) {  
                //alert(response.Sum.length)
                tempSchedule=''
                if(Wordnum==2){
                    $('#schedule_table').children('tr').remove()
                    for (var i = 0; i < response.Sum.length; i++) {
                        //alert(response.Token[i])
                        if(response.merged[i]==1){
                            tempSchedule=tempSchedule+'<tr style="background-color:#D8DDB8/*#89e6a6;*/"><td><input disabled type="radio" onclick="" name="ScheduleInput" id=schedule' + i + '>' +
                            '<label class="schedulelabel" for=schedule' + i + '>' +
                            '<p  class="ScheduleTokenID5" style="display:none">' + response.Token_5[i] + '</p>' +
                            '<p  class="ScheduleTokenID6" style="display:none">' + response.Token_6[i] + '</p>' +
                            '<p  class="ScheduleTokenID7" style="display:none">' + response.Token_7[i] + '</p>' 
                            if(response.Token_5[i]==1){
                                tempSchedule+='<p  class="ScheduleToken1" style="font-size:15px;">' + response.Token5[i] + '</p>'
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken1">' + response.Token5[i] + '</p>'
                            }
                            if(response.Token_6[i]==1){
                                tempSchedule+='<p  class="ScheduleToken2" style="font-size:15px;">' + response.Token6[i] + '</p>' 
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken2" >' + response.Token6[i] + '</p>' 
                            }
                            tempSchedule+=
                            '<p  class="ScheduleSum">' + response.Sum[i] + '</p>' +
                            '</label>' +'</td></tr>'
                        }
                        else if(response.merged[i]==-1){
                        tempSchedule=tempSchedule+'<tr style="background-color:#E4B9B8;"><td><input disabled type="radio" onclick="" name="ScheduleInput" id=schedule' + i + '>' +
                            '<label class="schedulelabel" for=schedule' + i + '>' +
                            '<p  class="ScheduleTokenID5" style="display:none">' + response.Token_5[i] + '</p>' +
                            '<p  class="ScheduleTokenID6" style="display:none">' + response.Token_6[i] + '</p>' +
                            '<p  class="ScheduleTokenID7" style="display:none">' + response.Token_7[i] + '</p>'  
                            if(response.Token_5[i]==1){
                                tempSchedule+='<p  class="ScheduleToken1" style="font-size:15px;">' + response.Token5[i] + '</p>'
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken1">' + response.Token5[i] + '</p>'
                            }
                            if(response.Token_6[i]==1){
                                tempSchedule+='<p  class="ScheduleToken2" style="font-size:15px;">' + response.Token6[i] + '</p>' 
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken2">' + response.Token6[i] + '</p>' 
                            }
                            tempSchedule+=
                            '<p  class="ScheduleSum">' + response.Sum[i] + '</p>' +
                            '</label>' +'</td></tr>'
                        }
                        else{
                            tempSchedule=tempSchedule+'<tr><td><input type="radio" onclick="yamaha()" name="ScheduleInput" id=schedule' + i + '>' +
                            '<label class="schedulelabel" for=schedule' + i + '>' +
                            '<p  class="ScheduleTokenID5" style="display:none">' + response.Token_5[i] + '</p>' +
                            '<p  class="ScheduleTokenID6" style="display:none">' + response.Token_6[i] + '</p>' +
                            '<p  class="ScheduleTokenID7" style="display:none">' + response.Token_7[i] + '</p>'  
                            if(response.Token_5[i]==1){
                                tempSchedule+='<p  class="ScheduleToken1" style="font-size:15px;">' + response.Token5[i] + '</p>'
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken1">' + response.Token5[i] + '</p>'
                            }
                            if(response.Token_6[i]==1){
                                tempSchedule+='<p  class="ScheduleToken2" style="font-size:15px;">' + response.Token6[i] + '</p>' 
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken2">' + response.Token6[i] + '</p>' 
                            }
                            tempSchedule+=
                            '<p  class="ScheduleSum">' + response.Sum[i] + '</p>' +
                            '</label>' +'</td></tr>'
                        }
                    }
                }
                else if(Wordnum==3){
                    $('#schedule_table').children('tr').remove()
                    for (var i = 0; i < response.Sum.length; i++) {
                        //alert(response.Token[i])
                        if(response.merged[i]==1){
                            tempSchedule=tempSchedule+'<tr style="background-color:#89e6a6;"><td><input disabled type="radio" onclick="" name="ScheduleInput" id=schedule' + i + '>' +
                            '<label class="schedulelabel" for=schedule' + i + '>' +
                            '<p  class="ScheduleTokenID5" style="display:none">' + response.Token_5[i] + '</p>' +
                            '<p  class="ScheduleTokenID6" style="display:none">' + response.Token_6[i] + '</p>' +
                            '<p  class="ScheduleTokenID7" style="display:none">' + response.Token_7[i] + '</p>' 
                            if(response.Token_5[i]==1){
                                tempSchedule+='<p  class="ScheduleToken1" style="font-size:15px;">' + response.Token5[i] + '</p>' 
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken1" >' + response.Token5[i] + '</p>' 
                            }
                            if(response.Token_6[i]==1){
                                tempSchedule+='<p  class="ScheduleToken2" style="font-size:15px;">' + response.Token6[i] + '</p>' 
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken2">' + response.Token6[i] + '</p>'  
                            }
                            if(response.Token_7[i]==1){
                                tempSchedule+='<p  class="ScheduleToken3" style="font-size:15px;">' + response.Token7[i] + '</p>'  
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken3">' + response.Token7[i] + '</p>'  
                            }
                            tempSchedule+=
                            '<p  class="ScheduleSum">' + response.Sum[i] + '</p>' +
                            '</label>' +'</td></tr>'
                        }
                        else if(response.merged[i]==-1){
                            tempSchedule=tempSchedule+'<tr style="background-color:#E4B9B8;"><td><input disabled type="radio" onclick="" name="ScheduleInput" id=schedule' + i + '>' +
                            '<label class="schedulelabel" for=schedule' + i + '>' +
                            '<p  class="ScheduleTokenID5" style="display:none">' + response.Token_5[i] + '</p>' +
                            '<p  class="ScheduleTokenID6" style="display:none">' + response.Token_6[i] + '</p>' +
                            '<p  class="ScheduleTokenID7" style="display:none">' + response.Token_7[i] + '</p>' 
                            if(response.Token_5[i]==1){
                                tempSchedule+='<p  class="ScheduleToken1" style="font-size:15px;">' + response.Token5[i] + '</p>' 
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken1" >' + response.Token5[i] + '</p>' 
                            }
                            if(response.Token_6[i]==1){
                                tempSchedule+='<p  class="ScheduleToken2" style="font-size:15px;">' + response.Token6[i] + '</p>' 
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken2">' + response.Token6[i] + '</p>'  
                            }
                            if(response.Token_7[i]==1){
                                tempSchedule+='<p  class="ScheduleToken3" style="font-size:15px;">' + response.Token7[i] + '</p>'  
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken3">' + response.Token7[i] + '</p>'  
                            }
                            tempSchedule+=
                            '<p  class="ScheduleSum">' + response.Sum[i] + '</p>' +
                            '</label>' +'</td></tr>'
                        }
                        else{
                        tempSchedule=tempSchedule+'<tr><td><input  type="radio" onclick="yamaha()" name="ScheduleInput" id=schedule' + i + '>' +
                            '<label class="schedulelabel" for=schedule' + i + '>' +
                            '<p  class="ScheduleTokenID5" style="display:none">' + response.Token_5[i] + '</p>' +
                            '<p  class="ScheduleTokenID6" style="display:none">' + response.Token_6[i] + '</p>' +
                            '<p  class="ScheduleTokenID7" style="display:none">' + response.Token_7[i] + '</p>' 
                            if(response.Token_5[i]==1){
                                tempSchedule+='<p  class="ScheduleToken1" style="font-size:15px;">' + response.Token5[i] + '</p>' 
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken1" >' + response.Token5[i] + '</p>' 
                            }
                            if(response.Token_6[i]==1){
                                tempSchedule+='<p  class="ScheduleToken2" style="font-size:15px;">' + response.Token6[i] + '</p>' 
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken2">' + response.Token6[i] + '</p>'  
                            }
                            if(response.Token_7[i]==1){
                                tempSchedule+='<p  class="ScheduleToken3" style="font-size:15px;">' + response.Token7[i] + '</p>'  
                            }
                            else{
                                tempSchedule+='<p  class="ScheduleToken3">' + response.Token7[i] + '</p>'  
                            }
                            tempSchedule+=
                            '<p  class="ScheduleSum">' + response.Sum[i] + '</p>' +
                            '</label>' +'</td></tr>'
                        }
                    }
                }
                $('#schedule_table').append(tempSchedule)
                //alert('成功了吧')
            }
            ,failure: function(response) {
                alert('程式有誤，洽工程師#1');
            }
        })
    }
    function GOOGLE() {
        var string = $('#Targetword').text()
        string=string.replace('&nbsp', "")
        string=string.replace('[space]',' ')
        string=string.replace('[space]',' ')
        string=string.replace('[space]',' ')
        string=string.replace('[space]',' ')
        string=string.replace('[space]',' ')
        string=string.replace('[space]',' ')
        //alert(string)
        //var string2=$('input[name="Word4"]:checked').eq(CHECKED.length-1).parents('td').next('td').children('.Token74').text()

        var herfstr = 'https://www.bing.com/search?q=' + string + ' 中文&form=IENTHT&pc=EUPP_NMTE&mkt=zh-tw&httpsmsn=1&msnews=1&refig=5bd96b88d67f4df3b122f1a0adbc5fc2&sp=-1&pq=' + string + '&sc=8-13'

        //alert(herfstr)
        $('#Google').attr('src', herfstr);
        //HERF:https://www.google.com/search?q=tazobactam+tazobactam&rlz=1
    }
    function update_schedule(){
        var yes = confirm('將此筆設為完成...');
        if (yes) {
            $.ajax({
            type: 'get',
            url: '{% url "appeal:update_schedule" %}', // this is the mapping between the url and view
            traditional:true, 
            data: {
                'ArrTest':ArrTest,
                'csrfmiddlewaretoken': window.CSRF_TOKEN
            },
            contentType: "application/json; charset=utf-8",
            dataType: "json",
                success: function (response) {  
                    SearchWord()
                }
            })
        }
        else{
            alert('取消')
        }
    }
    function mix_word(){
        
        $('#Target').toggleClass('disable');
        var RwordID=$('input[name="BackInput"]:checked').next('label').children('.BackTokenID').text()
        var Rword=$('input[name="BackInput"]:checked').next('label').children('.BackToken').text()
        var LwordID=$('input[name="FrontInput"]:checked').next('label').children('.FrontTokenID').text()
        var Lword=$('input[name="FrontInput"]:checked').next('label').children('.FrontToken').text()
        //alert(Lword)
        if(LwordID==''&&RwordID!=''){
            $('#clickblock').css('display','inline')
            ChangeableArrTest.push(RwordID)
            $('#info-5').text(ChangeableArrTest)
            $('#Targetword').text($('#Targetword').text()+' '+Rword)
            select_huge_data()
        }
        else if(RwordID==''&&LwordID!=''){
            $('#clickblock').css('display','inline')
            ChangeableArrTest.unshift(LwordID)
            $('#info-5').text(ChangeableArrTest)
            $('#Targetword').text(Lword+' '+$('#Targetword').text())
            select_huge_data()
        }
        else if(RwordID!=''&& LwordID!='')
        {
            $('#clickblock').css('display','inline')
            ChangeableArrTest.push(RwordID)
            ChangeableArrTest.unshift(LwordID)
            $('#info-5').text(ChangeableArrTest)
            $('#Targetword').text(Lword+' '+$('#Targetword').text()+' '+Rword)
            select_huge_data()
        }
        else{
            alert('未選擇組合文字✌')
            //alert('未選擇組合文字◉⨯◉')
        }
    }
    function select_huge_data(){
        GOOGLE()
        $('#clickblock').css('display','inline')
        if(ChangeableArrTest.length==9){
            $('#BackWord').children('tr').remove()
            $('#FrontWord').children('tr').remove()
            alert('已達最高字數')
        }
        $('#BackWord').children('tr').remove()
        $('#FrontWord').children('tr').remove()
        $('.spinner2').css('display', 'inline');
        $('.spinner').css('display', 'inline');
        $.ajax({
        type: 'get',
        url: '{% url "appeal:select_huge_data" %}', // this is the mapping between the url and view
        traditional:true, 
        data: {
            'ChangeableArrTest':ChangeableArrTest,
            'len':ChangeableArrTest.length,
            'csrfmiddlewaretoken': window.CSRF_TOKEN
        },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
            success: function (response) {  
                //alert(response.Token[0]+','+response.Token2[0])
                //SearchWord()
                $('#BackWord').children('tr').remove()
                $('.spinner').css('display', 'none');
                tempword='';
                
                //alert('總共:'+response.Sum.length)
                for (var i = 0; i < response.Sum.length; i++) {
                    //alert(response.Token[i])
                    tempword=tempword+'<tr><td><input type="radio" onclick="" name="BackInput" id=back' + i + '>' +
                        '<label class="backlabel" for=back' + i + '>' +
                        '<p  class="BackTokenID" style="display:none">' + response.TokenID[i] + '</p>' +
                        '<p  class="BackToken">' + response.Token[i] + '</p>' +
                        '<p  class="BackSum">' + response.Sum[i] + '</p>' +
                        '</label>' +'</td></tr>'
                }
                $('#BackWord').append(tempword)
                //alert('Good')
                
            
                //----------------------------------
                //alert(ArrTest[0])
                tempword='';
                $('#FrontWord').children('tr').remove()
                $('.spinner2').css('display', 'none');
                //alert('總共:'+response.Sum.length)
                for (var i = 0; i < response.Sum2.length; i++) {
                    //alert(response.Token[i])
                    tempword=tempword+'<tr><td><input type="radio" onclick="" name="FrontInput" id=front' + i + '>' +
                        '<label class="frontlabel" for=front' + i + '>' +
                        '<p  class="FrontTokenID" style="display:none">' + response.TokenID2[i] + '</p>' +
                        '<p  class="FrontSum">' + response.Sum2[i] + '</p>' +
                        '<p  class="FrontToken">' + response.Token2[i] + '</p>' +
                        '</label>' +'</td></tr>'
                }
                //alert(tempword)
                $('#FrontWord').append(tempword)
                //alert('Good')
                
                //alert(response.TotalSum[0])
                
                $('#Targetnum').text(response.TotalSum[0])
            }
            ,failure: function(response) {
                alert('程式有誤，洽工程師#2');
            }
        })    
    }
    function insert_word(){
        var uuser=$('#Usertext').val();
        var finishnum=$('.finish_word').length
        if(uuser==''){
            alert('請輸入使用者!🐽')
        }
        else if(finishnum==0)
        {
            alert('無合併資料!🐽')
        }
        else{
            
            var yes = confirm('資料輸進進資料庫');
            if (yes) {
                //alert($('.finish_word').length)
                //alert($('.finish_word').eq(3).text())
                InsertArray=[]
                for(j=0;j<$('.finish_word').length;j++){
                    //alert($('.finish_word').eq(j).text())
                    InsertArray.push($('.finish_word').eq(j).text())
                }
                //alert($('#Usertext').val())
                $.ajax({
                type: 'get',
                url: '{% url "appeal:insert_word" %}', // this is the mapping between the url and view
                traditional:true, 
                data: {
                    'InsertArray':InsertArray,
                    'Usertext':$('#Usertext').val(),
                    'csrfmiddlewaretoken': window.CSRF_TOKEN
                },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                    success: function (response) { 
                        $('#finish_table').children('tr').remove()
                        alert('成功!')
                    }
                    ,failure: function(response) {
                        alert('程式有誤，洽工程師#3');
                    }
                })
                //alert($('#finish_table').children('td').text())
            } else {
                alert('取消');
            }
        }
    }
    function question_word(){
        var yes = confirm('將此筆設為待確認...');
            if (yes) {
                $.ajax({
                type: 'get',
                url: '{% url "appeal:question_word" %}', // this is the mapping between the url and view
                traditional:true, 
                data: {
                    'ArrTest':ArrTest,
                    'csrfmiddlewaretoken': window.CSRF_TOKEN
                },
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                    success: function (response) {  
                        SearchWord()
                    }
                })
            }
            else{
                alert('取消')
            }
    }
    function yamaha(){
        $('#BackWord').children('tr').remove()
        $('#FrontWord').children('tr').remove()
        $('#clickblock').css('display','none')
        if(ArrTest.length==2){
            var TokenID5= $('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleTokenID5').text()
            var TokenID6= $('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleTokenID6').text()
            var Token5= $('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleToken1').text()
            var Token6= $('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleToken2').text()
            var sum=$('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleSum').text()
            ArrTest=[TokenID5,TokenID6]
            ChangeableArrTest=[TokenID5,TokenID6]
            $('#info-4').text(ArrTest)
            $('#info-5').text(ChangeableArrTest)
            $('#Targetword').text(Token5+Token6)
            $('#Targetnum').text(sum)
        }
        else if(ArrTest.length==3){
            var TokenID5= $('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleTokenID5').text()
            var TokenID6= $('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleTokenID6').text()
            var TokenID7= $('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleTokenID7').text()
            var Token5= $('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleToken1').text()
            var Token6= $('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleToken2').text()
            var Token7= $('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleToken3').text()
            var sum=$('input[name="ScheduleInput"]:checked').next('label').children('.ScheduleSum').text()
            ArrTest=[TokenID5,TokenID6,TokenID7]
            ChangeableArrTest=[TokenID5,TokenID6,TokenID7]
            $('#info-4').text(ArrTest)
            $('#info-5').text(ChangeableArrTest)
            $('#Targetword').text(Token5+Token6+Token7)
            $('#Targetnum').text(sum)
        }
        GOOGLE()
        
        
    }
</script>

<body >
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <a class="navbar-brand" href={% url 'demo:index' %}>AI Center</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
            aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href={% url 'demo:index' %}>Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" aria-haspopup="true"
                        aria-expanded="false" >Link</a>
                    <div class="dropdown-menu" aria-labelledby="dropdown01">
                        <a class="dropdown-item" href="http://www.csh.org.tw/">中山醫學大學附設醫院</a>
                    </div>
                </li>
                {% if '1' in au or 'F' in au %}{% include 'accounts/loginpartial2.html' %}{% endif %}
                {% if '2' in au or 'F' in au %}{% include 'accounts/Infection_prevention_and_control.html' %}{% endif %}
                {% if '3' in au or 'F' in au %}{% include 'accounts/NLP.html' %}{% endif %}
                {% if '4' in au or 'F' in au %}{% include 'accounts/upload.html' %}{% endif %}
                {% if 'F' in au %}{% include 'accounts/auth.html' %}{% endif %}
            </ul>
            {% include 'accounts/loginpartial.html' %}
        </div>
    </nav>
    <!--側欄頁面設計-->

    
      <!--放回來就好了
    <div id="main" style="margin-top: 50px">
      <span style="font-size:30px; cursor:pointer" onclick="openNav()">&#9776; </span>
    </div>
    -->
<!--
    <div class="vertical-line">
      <h1 class="title1">&emsp;訪客登記&emsp;</h1>
    </div>
-->
<div id="Timeline">
    <select class="form-select SPdropdown" id="validationCustom05" required>
        <optgroup label="字庫">
            <option >護理紀錄(NursingRecord)</option>
            <option style="background-color: #EEEEEE;" disabled="disabled">檢驗報告(LabReportText)</option>
            <option style="background-color: #EEEEEE;" disabled="disabled">入院紀錄(AdmissionNote)</option>
            <option style="background-color: #EEEEEE;" disabled="disabled">正子報告(PET Report)</option>
            </optgroup>
    </select>
    <select class="form-select SPdropdown" id="validationCustom04" required>
        <optgroup label="字數">
            <option value="2">二字詞</option>
            <option value="3">三字詞</option>
            </optgroup>
    </select>
    <select class="form-select SPdropdown" id="validationCustom09" required>
        <optgroup label="字">
            <option value="C">中</option>
            <option value="E">英</option>
            <option value="N">數</option>
            <option value="S">符</option>
            </optgroup>
    </select>
    <select class="form-select SPdropdown" id="validationCustom10" required>
        <optgroup label="字">
            <option value="C">中</option>
            <option value="E">英</option>
            <option value="N">數</option>
            <option value="S">符</option>
            </optgroup>
    </select>
    <select class="form-select SPdropdown" id="validationCustom12" required>
        <optgroup label="字">
            <option value="C">中</option>
            <option value="E">英</option>
            <option value="N">數</option>
            <option value="S">符</option>
            </optgroup>
    </select>
    <button class="btn " type="button" id="search" onclick="SearchWord()" style="width:125px">查詢</button>
    <div id="filter" class="btn-group" role="group" aria-label="Basic checkbox toggle button group">
        <input type="radio" class="btn-check"  id="btncheck1" autocomplete="off" name="EXAM[]" value="中文" onclick="">
        <label class="btn btn-outline-secondary" for="btncheck1" id="twotype1">中文</label>
      
        <input type="radio" class="btn-check" id="btncheck2" autocomplete="off"  name="EXAM[]" value="中符" onclick="">
        <label class="btn btn-outline-secondary" for="btncheck2" id="twotype2">英文</label>
    </div>
    <div id="tableframe" class='dropArea box1' ondragover="event.preventDefault()">

        <div id="front_area_Title"><!--標題-->
            <table style="width: 100%;height:100%"><tr><th class="Tokentd"style="font-size:40px;text-align:center;" >⇽</th></table><button onclick="cancel(-1)" id="FrontCancelbtn" type="button" class="btn btn-outline-secondary">取消</button>
        </div>
        <div id="front_area">
            <table class="table table-striped" id="FrontWord" style="text-align:center;word-wrap: break-word;table-layout: fixed;direction: ltr;"  ></table>
        </div>
        <div id="clickblock">//////////////</div>
        <div id="mid_area">
            <table class="table table-striped" id="Word" style="text-align:center;"  ></table>
            <div class="d-grid gap-4 col-10 mx-auto">
                <br>
                <button class="btn" style="background-color: #f1d370;" type="button" onclick="mix_word()"><B>組合&nbsp֎</B></button>
                <button class="btn" style="background-color: #30A2C4" type="button" onclick="confirm_merge()"><B>確認合併&nbsp⇛</B></button>
                <button class="btn" style="background-color: #E4B9B8" type="button" onclick="update_schedule()"><B>完成&nbsp✓</B></button>
            </div>
        </div>
        <div id="back_area_Title"><!--標題-->
            <table style="width: 100%;height:100%"><tr><th class="Tokentd" style="font-size:40px;text-align:center;margin-top: -5px;" >⇾</th></th></table><button onclick="cancel(1)" id="BackCancelbtn" type="button" class="btn btn-outline-secondary">取消</button>
        </div>
        <div id="back_area">
            <table class="table table-striped" id="BackWord" style="text-align:center;word-wrap: break-word;table-layout: fixed;"  ></table>
        </div>
    </div>
    
    <p id="info" style="display: none;">C</p>
    <p id="info-2" style="display: none;">C</p>
    <p id="info-3" style="display: none;">C</p>
    <p id="info-4" style="margin-left: 87%;display: none;" >array</p>
    <p id="info-5" style="margin-left: 87%;display: none;" >array</p>
    <!--嘟嘟嘟特效-->
    <div class="spinner">
        <div class="spinner-container container1">
          <div class="circle1"></div>
          <div class="circle2"></div>
          <div class="circle3"></div>
          <div class="circle4"></div>
        </div>
        <div class="spinner-container container2">
          <div class="circle1"></div>
          <div class="circle2"></div>
          <div class="circle3"></div>
          <div class="circle4"></div>
        </div>
        <div class="spinner-container container3">
          <div class="circle1"></div>
          <div class="circle2"></div>
          <div class="circle3"></div>
          <div class="circle4"></div>
        </div>
        <br>
        <br>
        <label style="width: 200px;margin-left: -20px;font-family:DFKai-sb;font-size: 20px;">請稍後...</label>
    </div>
    <div class="spinner2">
        <div class="spinner-container container1">
          <div class="circle1"></div>
          <div class="circle2"></div>
          <div class="circle3"></div>
          <div class="circle4"></div>
        </div>
        <div class="spinner-container container2">
          <div class="circle1"></div>
          <div class="circle2"></div>
          <div class="circle3"></div>
          <div class="circle4"></div>
        </div>
        <div class="spinner-container container3">
          <div class="circle1"></div>
          <div class="circle2"></div>
          <div class="circle3"></div>
          <div class="circle4"></div>
        </div>
        <br>
        <br>
        <label style="width: 200px;margin-left: -20px;font-family:DFKai-sb;font-size: 20px;">請稍後...</label>
    </div>
    <!--嘟嘟嘟特效-->
</div>
<div id="Finish">
    <textarea style="resize: none;margin:10px;height: 35px;margin-left: 25px;width: 50%;font-family: 'Courier New', Courier, monospace;" maxlength="10" placeholder="使用者名稱" id="Usertext"></textarea>
    <button class="databasebutton" onclick="insert_word()"><span><h id="worddd">🖥️</h></span></button>
    <div id="finish_area">
        <table class="table table-striped table-hover" id="finish_table" style="text-align:center;"  ></table>
    </div>
</div>
<div id="Schedule">
    <label style="font-size: 28px;font-family: cursive;margin-left: 3%;">進度表</label>
    <button class="quesbutton" onclick="question_word()"><span><h id="worddd">❓</h></span></button>
    <div id="schedule_area">
        <table class="table table-striped table-hover" id="schedule_table" style="text-align:center;"  ></table>   
    </div>
</div>
<!--<iframe id="Google"></iframe>-->
    
<input type="checkbox" name="" id="sideMenu-active" />

    <div class="sideMenu">
        <iframe id="Google"></iframe>
    <label for="sideMenu-active" id="labelmenu">
        🔍
    </label>
    </div>
